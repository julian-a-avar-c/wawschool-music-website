---
import { config as mainConfig } from "@/config/main";
import { config as pageConfig } from "@/config/pages/index";
const config = {
  main: mainConfig,
  page: pageConfig,
};

import { cn } from "@/lib/utils";

import Layout from "@/layouts/Layout.astro";
import Header from "@/components/layout/Header.astro";
import Footer from "@/components/layout/Footer.astro";

import HalfAndHalf from "@/components/section/HalfAndHalf.astro";
import Content80 from "@/components/section/new/Content80.astro";
import ProportionalBento from "@/components/section/new/ProportionalBento.astro";

import Hero from "@/components/section/new/page/index/Hero.astro";

import { Icon } from "astro-icon/components";
import { Button } from "@/components/ui/button";
import { Accordion } from "@/components/my-ui/accordion";
import { LogoBelt } from "@/components/section/new/LogoBelt";
import LabeledAccordion from "@/components/my-ui/LabeledAccordion.astro";
import BandSignUpForm from "@/components/my-ui/band-signup-form";
import {
  Carousel,
  CarouselContent,
  CarouselItem,
} from "@/components/my-ui/carousel";
import { GalleryCarousel } from "@/components/my-ui/GalleryCarousel";

import { supabase } from "@/lib/supabase";

// Removed unnecessary insert operation that was causing RLS policy violation
---

<Layout title="WAW Music School Camp" class={cn("w-full")}>
  <!-- <Header /> -->

  <main
    class={cn(
      "col-[fullbleed]",
      "grid grid-cols-subgrid",
      "pb-(--section-padding)",
      "bg-gradient-to-br from-orange-50 to-red-50",
    )}
  >
    <Content80 contentClass="flex flex-col gap-8">
      <div
        class="flex flex-col py-8 gap-y-6 p-8 rounded-3xl bg-gradient-to-br from-white to-orange-50 border-2 border-[#d14f4f]/20 shadow-xl"
      >
        <img src="/logo.jpeg" class="max-w-[500px] self-center rounded-2xl" />
        <div
          class="text-4xl text-center font-bold text-[#d14f4f] animate-pulse"
        >
          <Icon
            name="lucide:sparkles"
            class="w-12 h-12 text-[#d14f4f] inline"
          />{" "}<span>Join us for Summer Music Magic!</span>{" "}<Icon
            name="lucide:sparkles"
            class="w-12 h-12 text-[#d14f4f] inline"
          />
        </div>
        <h1
          class="text-6xl lg:text-7xl text-center font-bold bg-gradient-to-r from-[#d14f4f] to-red-500 bg-clip-text text-transparent"
        >
          <span>WAW Music's Summer Camp is back!</span>{" "}<Icon
            name="fa6-solid:guitar"
            class="w-12 h-12 text-[#d14f4f] inline"
          />
        </h1>
      </div>

      <div
        class="text-center p-6 rounded-2xl bg-gradient-to-r from-red-50 to-orange-50 border-2 border-[#d14f4f]/30"
      >
        <p class="text-xl text-gray-700 leading-relaxed">
          Get ready for an amazing musical adventure! Explore music, rhythm, and
          creativity in our super fun, no-pressure environment with the
          wonderful Carla Campopiano and our fantastic WAW team. Let's make some
          beautiful music together!
        </p>
      </div>

      <div class="flex flex-col lg:grid grid-cols-2 gap-8 lg:items-start">
        <div
          class="p-6 rounded-3xl bg-gradient-to-br from-white to-red-50 border-2 border-[#d14f4f]/20 shadow-lg"
        >
          <div class="text-center mb-6">
            <h3 class="text-2xl font-bold text-[#d14f4f] mb-2">
              Check Out Our Amazing Adventures! ðŸŽ¨
            </h3>
            <p class="text-red-600">
              Take a peek at all the fun we've been having at WAW Music!
            </p>
          </div>
          <GalleryCarousel client:only="react" />
        </div>

        <div class="p-2">
          <div class="text-center mb-6">
            <div class="text-4xl mb-2">ðŸŽª</div>
            <h3 class="text-2xl font-bold text-[#d14f4f] mb-2">
              Ready to Join the Fun? ðŸš€
            </h3>
            <p class="text-red-600">
              Let's get you signed up for the most awesome summer camp ever!
            </p>
          </div>
          <BandSignUpForm client:only="react" />
        </div>
      </div>
    </Content80>
  </main>

  <Footer />
</Layout>
